(this.webpackJsonpdosuku=this.webpackJsonpdosuku||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"checkBoardButton":"Check","description":"Please don\'t commit sudoku","copyrightNotice":"Copyright \xa9 2020 Tore Bergebakken - Some rights reserved.","difficultyEasy":"Easy","difficultyMedium":"Medium","difficultyHard":"Hard","notFilledMessage":"The board is not filled in!","winMessage":"Congratulations! You solved it!","lossMessage":"Nay. This is wrong.","goBack":"Back","settings":"Settings","hintsLabel":"When should errors be indicated?","hints: always":"Always","hints: on check":"On check","hints: none":"None"}')},31:function(e){e.exports=JSON.parse('{"checkBoardButton":"Sjekk","description":"Rett og slett sudoku","copyrightNotice":"Copyright \xa9 2020 Tore Bergebakken \u2013 Noen rettigheter forbeholdt.","difficultyEasy":"Lett","difficultyMedium":"Middels","difficultyHard":"Vanskelig","notFilledMessage":"Du har ikke fylt ut brettet!","winMessage":"Gratulerer med seieren, kompis!","lossMessage":"Beklager, dette er ikke helt rett.","goBack":"Tilbake","settings":"Innstillinger","hintsLabel":"N\xe5r skal feil markeres?","hints: always":"Alltid","hints: on check":"Hver gang brettet sjekkes","hints: none":"Aldri"}')},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),s=n(21),i=n.n(s),o=(n(39),n(40),n(8)),u=n(2),l=(n(41),n(4)),b=n(14),d=n(17),j=n(16),f=n(9),h=n.n(f),O=n(11),x=n.n(O),g=h.a.mark(w),m=h.a.mark(M),p=h.a.mark(S);function k(e){return e.map((function(e){return e.map((function(e){return 1===e.numbers.length?e.numbers[0]:0}))}))}function v(e){return e.map((function(e){return e.map((function(e){return{numbers:0!==e?[e]:[],disabled:0!==e,wrong:!1}}))}))}var y=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function w(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=1;case 1:if(!(t<=e)){n.next=7;break}return n.next=4,t;case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}),g)}var C=new Set(w(9)),N=Array.from(w(9));function M(e,t){var n,c,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Object(j.a)(t),a.prev=1,n.s();case 3:if((c=n.n()).done){a.next=9;break}return r=c.value,a.next=7,r[e];case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),n.e(a.t0);case 14:return a.prev=14,n.f(),a.finish(14);case 17:case"end":return a.stop()}}),m,null,[[1,11,14,17]])}function S(e,t,n){var c,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=3*e;case 1:if(!(c<3*(e+1))){a.next=12;break}r=3*t;case 3:if(!(r<3*(t+1))){a.next=9;break}return a.next=6,n[c][r];case 6:r++,a.next=3;break;case 9:c++,a.next=1;break;case 12:case"end":return a.stop()}}),p)}function E(e){var t,n=x.a.clone(C),c=Object(j.a)(e);try{for(c.s();!(t=c.n()).done;){var r=t.value;n.delete(r)}}catch(a){c.e(a)}finally{c.f()}return 0===n.size}function B(e){var t=function(e){var t=[];e.forEach((function(e,n){var c=new Map;e.forEach((function(e,t){0!==e&&(c.has(e)||c.set(e,[]),c.get(e).push([n,t]))})),t.push.apply(t,Object(d.a)(Array.from(c.values()).filter((function(e){return e.length>1})).flat()))})),e.forEach((function(n,c){var r=new Map;Array.from(M(c,e)).forEach((function(e,t){0!==e&&(r.has(e)||r.set(e,[]),r.get(e).push([t,c]))})),t.push.apply(t,Object(d.a)(Array.from(r.values()).filter((function(e){return e.length>1})).flat()))}));for(var n=function(n){for(var c=function(c){var r=new Map;Array.from(S(n,c,e)).forEach((function(e,t){0!==e&&(r.has(e)||r.set(e,[]),r.get(e).push([3*n+Math.floor(t/3),3*c+t%3]))})),t.push.apply(t,Object(d.a)(Array.from(r.values()).filter((function(e){return e.length>1})).flat()))},r=0;r<3;r++)c(r)},c=0;c<3;c++)n(c);return Array.from(new Set(t).values())}(k(e)),n=e.map((function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{wrong:!1})}))}));return t.forEach((function(e){var t=Object(l.a)(e,2),c=t[0],r=t[1];n[c][r].disabled||(n[c][r].wrong=!0)})),n}n(44);var A=n(30),F=n(31),H={en:Object(b.a)({},A),no:Object(b.a)({},F)},I={en:"English",no:"Norsk"},T=Object(r.createContext)({language:"en",dictionary:H.en,languageChange:function(e){}});function L(e){var t=e.children,n=Object(r.useState)("en"),a=Object(l.a)(n,2),s=a[0],i=a[1],o={language:s,dictionary:H[s],languageChange:function(e){var t=e in I?e:"en";i(t),localStorage.setItem("language",t)}};return Object(c.jsx)(T.Provider,{value:o,children:t})}var P=[[4,3,5,2,6,9,7,8,1],[6,8,2,5,7,1,4,9,3],[1,9,7,8,3,4,5,6,2],[8,2,6,1,9,5,3,4,7],[3,7,4,6,8,2,9,1,5],[9,5,1,7,4,3,6,2,8],[5,1,9,3,2,6,8,7,4],[2,4,8,9,5,7,1,3,6],[7,6,3,4,1,8,2,5,9]],J=[[0,0,0,2,6,0,7,0,1],[6,8,0,0,7,0,0,9,0],[1,9,0,0,0,4,5,0,0],[8,2,0,1,0,0,0,4,0],[0,0,4,6,0,2,9,0,0],[0,5,0,0,0,3,0,2,8],[0,0,9,3,0,0,0,7,4],[0,4,0,0,5,0,0,3,6],[7,0,3,0,1,8,0,0,0]],D=x.a.cloneDeep(P);D[2][3]=1;var K={easy:[J,[[1,0,0,4,8,9,0,0,6],[7,3,0,0,0,0,0,4,0],[0,0,0,0,0,1,2,9,5],[0,0,7,1,2,0,6,0,0],[5,0,0,7,0,3,0,0,8],[0,0,6,0,9,5,7,0,0],[9,1,4,6,0,0,0,0,0],[0,2,0,0,0,0,0,3,7],[8,0,0,5,1,2,0,0,4]]],medium:[[[0,2,0,6,0,8,0,0,0],[5,8,0,0,0,9,7,0,0],[0,0,0,0,4,0,0,0,0],[3,7,0,0,0,0,5,0,0],[6,0,0,0,0,0,0,0,4],[0,0,8,0,0,0,0,1,3],[0,0,0,0,2,0,0,0,0],[0,0,9,8,0,0,0,3,6],[0,0,0,3,0,6,0,9,0]]],hard:[[[0,0,0,6,0,0,4,0,0],[7,0,0,0,0,3,6,0,0],[0,0,0,0,9,1,0,8,0],[0,0,0,0,0,0,0,0,0],[0,5,0,1,8,0,0,0,3],[0,0,0,3,0,6,0,4,5],[0,4,0,2,0,0,0,6,0],[9,0,3,0,0,0,0,0,0],[0,2,0,0,0,0,1,0,0]],[[2,0,0,3,0,0,0,0,0],[8,0,4,0,6,2,0,0,3],[0,1,3,8,0,0,2,0,0],[0,0,0,0,2,0,3,9,0],[5,0,7,0,0,0,6,2,1],[0,3,2,0,0,6,0,0,0],[0,2,0,0,0,9,1,4,0],[6,0,1,2,5,0,8,0,9],[0,0,0,0,0,1,0,0,2]]],cheat:[P],wrong:[D]},W=n(22),z=n.n(W),G=n(32),R=n.n(G),V=["none","on check","always"],Y=Object(r.createContext)({hints:"on check",setHints:function(){}});function q(e){var t=e.children,n=Object(r.useState)("on check"),a=Object(l.a)(n,2),s=a[0],i=a[1];Object(r.useEffect)((function(){var e=localStorage.getItem("hints");e&&V.includes(e)&&i(e)}),[]),Object(r.useEffect)((function(){localStorage.setItem("hints",s)}),[s]);var o={hints:s,setHints:i};return Object(c.jsx)(Y.Provider,{value:o,children:t})}z.a.setAppElement("#root");var Q={content:{minWidth:"15em",width:"30em",height:"10em",textAlign:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}};function U(e){return(e%3===2&&e<8?"border-bottom":"")||(e%3===0&&e>0?"border-top":"")}function X(e){var t,n=e.tile,r=e.onClick,a=e.selected,s=n.numbers,i=n.wrong;return t=s.length>4?Object(c.jsx)("div",{className:"cell-grid-tiny",children:n.numbers.map((function(e){return Object(c.jsx)("div",{className:"cell-num-tiny",children:e},e)}))}):s.length>1?Object(c.jsx)("div",{className:"cell-grid-small",children:n.numbers.map((function(e){return Object(c.jsx)("div",{className:"cell-num-small",children:e},e)}))}):s.length>0?s[0]:"",Object(c.jsx)("button",{className:"cell-btn ".concat(a?"active":""," ").concat(i?"wrong":""),onClick:r,disabled:n.disabled,children:t})}function Z(){var e=Object(u.f)().id,t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(""),b=Object(l.a)(i,2),d=b[0],f=b[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),g=O[0],m=O[1],p=Object(r.useState)(y),w=Object(l.a)(p,2),C=w[0],A=w[1],F=Object(r.useState)(v(y)),H=Object(l.a)(F,2),I=H[0],L=H[1],P=Object(r.useState)([-1,-1]),D=Object(l.a)(P,2),W=D[0],G=D[1],V=Object(l.a)(W,2),q=V[0],Z=V[1],$=Object(r.useContext)(T).dictionary,_=Object(r.useContext)(Y).hints;return Object(r.useEffect)((function(){A(K[e]&&x.a.sample(K[e])||J)}),[e]),Object(r.useEffect)((function(){L(v(C))}),[C]),Object(c.jsxs)(R.a,{handleKeys:["enter","1","2","3","4","5","6","7","8","9"],onKeyEvent:function(e){"enter"!==e||a?te(parseInt(e)):re()},children:[Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:I.map((function(e,t){return Object(c.jsx)("tr",{className:U(t),children:e.map((function(e,n){return Object(c.jsx)("td",{className:ee(t,n),children:Object(c.jsx)(X,{tile:e,onClick:function(){return G([t,n])},selected:ne(t,n)})},n)}))},t)}))})}),Object(c.jsx)("p",{children:N.map((function(e){if(Z>=0&&q>=0){var t=I[q][Z];return Object(c.jsx)("button",{className:"cell-btn ".concat(t.numbers.includes(e)?" active":""),onClick:function(){return te(e)},children:e},e)}return Object(c.jsx)("button",{className:"cell-btn",disabled:!0,children:e},e)}))}),Object(c.jsxs)("p",{children:[Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("button",{children:$.goBack})}),Object(c.jsx)("button",{onClick:re,children:$.checkBoardButton})]}),Object(c.jsxs)(z.a,{isOpen:a,style:Q,children:[Object(c.jsx)("p",{className:"message ".concat(g?" error":""),children:d}),Object(c.jsx)("p",{children:Object(c.jsx)("button",{onClick:function(){return s(!1)},children:"Ok"})})]})]});function ee(e,t){var n="";return(q===e||Z===t||Math.floor(q/3)===Math.floor(e/3)&&Math.floor(Z/3)===Math.floor(t/3))&&(n=" selected-area"),function(e){return(e%3===2&&e<8?"border-right":"")||(e%3===0&&e>0?"border-left":"")}(t)+n}function te(e){if(-1!==q&&-1!==Z){var t=Object(l.a)(W,2),n=t[0],c=t[1],r=I[n][c].numbers,a=x.a.clone(I);r.includes(e)?a[n][c].numbers=N.filter((function(t){return r.includes(t)&&t!==e})):a[n][c].numbers=N.filter((function(t){return r.includes(t)||t===e})),"always"===_?L(B(a)):(a[n][c].wrong=!1,L(a))}}function ne(e,t){return q===e&&Z===t}function ce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f(e),m(t),s(!0)}function re(){!function(e){return e.reduce((function(e,t){return e&&t.reduce((function(e,t){return e&&1===t.numbers.length}),!0)}),!0)}(I)?ce($.notFilledMessage):!function(e){var t,n=Object(j.a)(e);try{for(n.s();!(t=n.n()).done;)if(!E(t.value))return!1}catch(s){n.e(s)}finally{n.f()}for(var c=0;c<9;c++)if(!E(Array.from(M(c,e))))return!1;for(var r=0;r<3;r++)for(var a=0;a<3;a++)if(!E(Array.from(S(r,a,e))))return!1;return!0}(k(I))?ce($.lossMessage):ce($.winMessage,!1),g&&"on check"===_&&L(B(I))}}function $(){var e=Object(r.useContext)(T).dictionary;return Object(c.jsxs)("header",{children:[Object(c.jsx)("h1",{children:"dosuku"}),Object(c.jsx)("h2",{children:e.description})]})}function _(){return Object(c.jsxs)("footer",{children:[Object(c.jsx)("p",{children:"sudoku kudosu sukudo"}),Object(c.jsx)("p",{children:"sudoku dokusu kusudo"}),Object(c.jsx)("p",{children:"kudosu dosuku sukudo"})]})}function ee(){var e=Object(r.useContext)(T),t=(e.language,e.languageChange);return Object(r.useEffect)((function(){var e=localStorage.getItem("language");e||(e=window.navigator.language.substr(0,2)),t(e)}),[t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){return t("en")},children:I.en}),Object(c.jsx)("button",{onClick:function(){return t("no")},children:I.no})]})}function te(){var e=Object(r.useContext)(T).dictionary;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{children:Object(c.jsx)(o.b,{to:"/board/easy",children:Object(c.jsx)("button",{className:"btn-wide",children:e.difficultyEasy})})}),Object(c.jsx)("p",{children:Object(c.jsx)(o.b,{to:"/board/medium",children:Object(c.jsx)("button",{className:"btn-wide",children:e.difficultyMedium})})}),Object(c.jsx)("p",{children:Object(c.jsx)(o.b,{to:"/board/hard",children:Object(c.jsx)("button",{className:"btn-wide",children:e.difficultyHard})})}),Object(c.jsx)("p",{children:Object(c.jsx)(o.b,{to:"/settings",children:Object(c.jsx)("button",{className:"btn-wide",children:e.settings})})}),Object(c.jsx)("p",{children:Object(c.jsx)(ee,{})})]})}n(58);function ne(){var e=Object(r.useContext)(T).dictionary,t=Object(r.useContext)(Y),n=t.hints,a=t.setHints;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:e.settings}),Object(c.jsx)("h3",{children:e.hintsLabel}),Object(c.jsx)("p",{className:"btn-row",children:V.map((function(t){return Object(c.jsx)("button",{className:n===t?"active":"",onClick:function(){return a(t)},children:e["hints: ".concat(t)]||"???"})}))}),Object(c.jsx)("p",{children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("button",{className:"btn-wide",children:e.goBack})})})]})}var ce=function(){return Object(c.jsx)(o.a,{children:Object(c.jsx)(q,{children:Object(c.jsx)(L,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)($,{}),Object(c.jsx)("main",{children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",children:Object(c.jsx)(te,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/settings",children:Object(c.jsx)(ne,{})}),Object(c.jsx)(u.a,{path:"/board/:id",children:Object(c.jsx)(Z,{})}),Object(c.jsx)(u.a,{children:Object(c.jsx)("h2",{children:"404 Not Found"})})]})}),Object(c.jsx)(_,{})]})})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(ce,{})}),document.getElementById("root")),re()}},[[59,1,2]]]);
//# sourceMappingURL=main.903b45ec.chunk.js.map